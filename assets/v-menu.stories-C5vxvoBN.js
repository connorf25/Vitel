import{i as h,c as d,j as b,e as a,T as x,w as p,a as f,r as $,o as l}from"./vue.esm-bundler-CIUkA9VC.js";import{q as C}from"./popper-Bnif2dgu.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_}from"./toast-Dy2nnG-1.js";import{V as I}from"./vitel-De4LWFz0.js";import"./index-BCAj_bCp.js";import{s as L}from"./entry-preview-BsfXFv1X.js";import"./isArrayLike-DYVE1Yub.js";import"./isObjectLike-Dipz0mOK.js";import"./isArray-Dxzbedgu.js";const D={created(o,t){let e={selector:null,items:[],prevent:!0,stop:!0,placement:"top-start",popperConfig:{},classHide:"d-none",classShow:"d-block",event:"contextmenu",context:t.instance,filter:()=>!0,before:()=>{},beforeClose:()=>{},close:()=>{},...typeof t.value=="string"?{selector:t.value}:Array.isArray(t.value)?{items:t.value}:t.value};if(t.modifiers.click&&(e.event="click"),e.selector&&e.items.length>0)throw new Error("v-menu - specifying `selector` + `items` is contradictory, choose one or the other");e.selector&&e.classHide&&h().then(()=>{let c=document.querySelector(e.selector);if(!c)throw new Error(`Unable to locate contextmenu selector "${e.selector}" - after wating one tick`);c.classList.add(e.classHide)}),o.addEventListener(e.event,async c=>{if(await e.filter.call(e.context,e.context)===!1)return;e.prevent&&c.preventDefault(),e.stop&&c.stopPropagation();let s,u=async()=>{i&&(await e.beforeClose(e.context,e.context),s.classList.add(e.classHide),s.classList.remove(e.classShow),i.destroy(),i=null,await e.close(e.context,e.context))};if(e.selector){if(s=document.querySelector(e.selector),!s)throw new Error(`Unable to locate contextmenu selector "${e.selector}"`);s.addEventListener("click",u,{once:!0})}else if(e.items)s=document.createElement("div"),s.classList.add("dropdown-menu"),e.items.filter(n=>n.show?typeof n.show=="function"?n.show.call(e.context):n.show:!0).forEach(n=>{if(n==="-"){let r=document.createElement("div");r.classList.add("dropdown-divider"),s.append(r)}else{let r=document.createElement("a");if(r.classList.add("dropdown-item"),r.icon){let v=document.createItem("i");v.classList.add(r.icon),r.prepend(v)}r.innerText=n.title,n.onClick&&r.addEventListener("click",async()=>(await u(),n.onClick.call(e.context))),s.append(r)}}),document.body.append(s);else throw new Error("Unable to determine behaviour for v-menu");await e.before(e.context,e.context),s.classList.remove(e.classHide),s.classList.add(e.classShow);let i=C(o,s,{placement:e.placement,...e.popperConfig})})}},g={},q={id:"myDropdown",class:"dropdown-menu"},B={class:"card"},S={class:"card-body d-flex justify-content-between"},V={class:"btn btn-light"},N={class:"btn btn-light"},P={class:"btn btn-light"};function R(o,t,e,c,s,u){const i=$("menu");return l(),d("div",null,[(l(),b(x,{to:"body"},[a("div",q,[a("a",{onClick:t[0]||(t[0]=n=>o.$toast.success("Foo!")),class:"dropdown-item"},"Foo"),a("a",{onClick:t[1]||(t[1]=n=>o.$toast.success("Bar!")),class:"dropdown-item"},"Bar"),t[3]||(t[3]=a("div",{class:"dropdown-divider"},null,-1)),a("a",{onClick:t[2]||(t[2]=n=>o.$toast.success("Baz!")),class:"dropdown-item"},"Baz")])])),a("div",B,[a("div",S,[p((l(),d("a",V,t[4]||(t[4]=[f(" Right click me "),a("div",{class:"text-muted"},"Selector for existing menu",-1)]))),[[i,"#myDropdown"]]),p((l(),d("a",N,t[5]||(t[5]=[f(" Right click me "),a("div",{class:"text-muted"},"Dynamic menu contents",-1)]))),[[i,[{title:"Item #1",onClick:()=>o.$toast.success("Item #1!")},{title:"Item #2",onClick:()=>o.$toast.success("Item #2!")},"-",{title:"Item #3",onClick:()=>o.$toast.success("Item #3!")}]]]),p((l(),d("a",P,t[6]||(t[6]=[f(" LEFT click me "),a("div",{class:"text-muted"},"Selector for existing menu",-1)]))),[[i,"#myDropdown",void 0,{click:!0}]])])])])}const T=E(g,[["render",R]]);g.__docgenInfo={exportName:"default",displayName:"v-menu.demo",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void",schema:[]}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[],sourceFiles:"/home/runner/work/Vitel/Vitel/directives/v-menu.demo.vue"};const J={title:"Directives/v-menu",component:T,tags:["autodocs"]};L(o=>{o.use(I),o.directive("menu",D),o.service("$toast",_)});const m={args:{}};var y,w,k;m.parameters={...m.parameters,docs:{...(y=m.parameters)==null?void 0:y.docs,source:{originalSource:`{
  args: {}
}`,...(k=(w=m.parameters)==null?void 0:w.docs)==null?void 0:k.source}}};const Q=["Docs"];export{m as Docs,Q as __namedExportsOrder,J as default};
