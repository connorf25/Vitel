import"./index-BCAj_bCp.js";import{_ as y}from"./http-BXV5vmy8.js";import{V as f}from"./vitel-De4LWFz0.js";import{c as p,e,a as i,n as k,t as d,f as v,o as m}from"./vue.esm-bundler-CIUkA9VC.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{s as q}from"./entry-preview-BsfXFv1X.js";import"./_commonjsHelpers-C4iS2aBk.js";import"./_commonjs-dynamic-modules-TDtrdbi3.js";import"./_baseSlice-BD4yksuF.js";import"./isObjectLike-Dipz0mOK.js";import"./isArray-Dxzbedgu.js";import"./isSymbol-C1qQj8zB.js";import"./isArrayLike-DYVE1Yub.js";import"./_isIterateeCall-B847D5xG.js";const g={data(){return{isError:!1,response:null}},methods:{mockRequest(r,t){return(r?this.$http[r](t):this.$http(t)).then(o=>{this.isError=!1,this.response=o}).catch(o=>{this.isError=!0,this.response=o})}}},_={class:"card mb-2"},x={class:"card-body"},E={class:"list-group"},R={key:0,class:"card-body"},C={class:"card mb-2"},V={class:"card-body"},$={class:"list-group"};function w(r,t,o,T,a,s){return m(),p("div",null,[e("div",_,[t[6]||(t[6]=e("div",{class:"card-header"},"$http",-1)),e("div",x,[t[5]||(t[5]=e("p",null,[e("a",{href:"https://axios-http.com/docs/intro",target:"_blank"},"Axios"),i(" wrapper for Vue")],-1)),e("div",E,[e("a",{onClick:t[0]||(t[0]=n=>s.mockRequest("get","/api/test/200")),class:"list-group-item list-group-item-action"}," $http.get('/api/test/200') "),e("a",{onClick:t[1]||(t[1]=n=>s.mockRequest("get","/api/test/400")),class:"list-group-item list-group-item-action"}," $http.get('/api/test/400') "),e("a",{onClick:t[2]||(t[2]=n=>s.mockRequest("get","/api/users")),class:"list-group-item list-group-item-action"}," $http.get('/api/users') "),e("a",{onClick:t[3]||(t[3]=n=>s.mockRequest(null,{method:"GET",url:"/api/test/200"})),class:"list-group-item list-group-item-action"}," $http({method: 'GET', url: '/api/test/200'}) ")])]),a.response?(m(),p("div",R,[e("div",{class:k(["alert",a.isError?"alert-warning":"alert-success"])},[e("pre",null,d(a.isError?"Error response":"Response")+": "+d(a.response),1)],2)])):v("",!0)]),e("div",C,[t[8]||(t[8]=e("div",{class:"card-header"},"$http.throttle(request)",-1)),e("div",V,[t[7]||(t[7]=e("p",null,[i("Axios requests + combine duplicate request + local caching. This method follows these rules: "),e("ol",null,[e("li",null,"Hash the current request based on `hashMethod` (defaults to `url`)"),e("li",null,"Using the hash, if the request is currently being made - return that pending promise"),e("li",null,[i("Using the hash, if the "),e("code",null,"$cache"),i(" service is present and the request has been made recently and has not expired - reuse that response")]),e("li",null,"If none of the above matches - make a fresh request")])],-1)),e("div",$,[e("a",{onClick:t[4]||(t[4]=n=>{s.mockRequest("throttle",{url:"/api/test/delayed"}),s.mockRequest("throttle",{url:"/api/test/delayed"}),s.mockRequest("throttle",{url:"/api/test/delayed"})}),class:"list-group-item list-group-item-action"}," $http.throttle({url: '/api/test/delayed'}) x 3 ")])])])])}const N=b(g,[["render",w]]);g.__docgenInfo={exportName:"default",displayName:"http.demo",type:1,props:[{name:"key",global:!0,description:"",tags:[],required:!1,type:"PropertyKey",declarations:[],schema:{kind:"enum",type:"PropertyKey",schema:["string","number","symbol"]}},{name:"ref",global:!0,description:"",tags:[],required:!1,type:"VNodeRef",declarations:[],schema:{kind:"enum",type:"VNodeRef",schema:["string","Ref<any, any>",{kind:"event",type:"(ref: Element | ComponentPublicInstance<{}, {}, {}, {}, {}, {}, {}, {}, false, ComponentOptionsBase<any, any, any, any, any, any, any, any, any, {}, {}, string, {}, {}, {}, string, ComponentProvideOptions>, ... 4 more ..., any>, refs: Record<...>): void",schema:[]}]}},{name:"ref_for",global:!0,description:"",tags:[],required:!1,type:"boolean",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"ref_key",global:!0,description:"",tags:[],required:!1,type:"string",declarations:[],schema:"string"},{name:"class",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"},{name:"style",global:!0,description:"",tags:[],required:!1,type:"unknown",declarations:[],schema:"unknown"}],events:[],slots:[],exposed:[{name:"isError",type:"boolean",description:"",declarations:[],schema:{kind:"enum",type:"boolean",schema:["false","true"]}},{name:"response",type:"any",description:"",declarations:[],schema:"any"}],sourceFiles:"/home/runner/work/Vitel/Vitel/services/http.demo.vue"};q(r=>{r.use(f),r.service("$http",y,{debug:!0})});const j={title:"Services/Http",component:N,tags:["autodocs"],argTypes:{}},l={};var u,c,h;l.parameters={...l.parameters,docs:{...(u=l.parameters)==null?void 0:u.docs,source:{originalSource:"{}",...(h=(c=l.parameters)==null?void 0:c.docs)==null?void 0:h.source}}};const J=["Example"];export{l as Example,J as __namedExportsOrder,j as default};
